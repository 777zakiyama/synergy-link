# SynergyLink クラウド環境テストガイド

## 概要
このガイドでは、クラウドベースのAndroid Studio環境でSynergyLinkアプリをテストする手順を説明します。

## 前提条件
- クラウドAndroid Studio環境へのVNCアクセス: https://80-firebase-zakiyama777-1751930524208.cluster-6dx7corvpngoivimwvvljgokdw.cloudworkstations.dev/vnc.html?autoconnect=true&resize=remote
- SynergyLinkプロジェクトファイル（転送用アーカイブ利用可能）

## ステップ1: プロジェクトファイルの準備

### 方法A: プロジェクトアーカイブのダウンロード
1. 以下のコマンドでプロジェクトアーカイブをダウンロード可能な場所に配置：
```bash
# 軽量版アーカイブ（421MB）を使用
cp /home/ubuntu/SynergyLink/SynergyLink-transfer.tar.gz ~/
```

2. ブラウザまたはファイル転送ツールでアーカイブをクラウド環境に転送

### 方法B: Git経由でのクローン（推奨）
1. VNC環境でターミナルを開く
2. 以下のコマンドを実行：
```bash
git clone https://github.com/zakiyama777/SynergyLink.git
cd SynergyLink
git checkout devin/1751890330-profile-login-screens
```

## ステップ2: クラウド環境でのプロジェクトセットアップ

### 1. 依存関係のインストール
```bash
cd SynergyLink
npm install
```

### 2. Firebase Functions依存関係のインストール
```bash
cd functions
npm install
cd ..
```

### 3. Android SDK設定の確認
Android Studioで以下を確認：
- Android SDK Platform 33以上がインストール済み
- Android SDK Build-Tools 33.0.0以上がインストール済み
- Android Emulator がインストール済み

## ステップ3: Android Virtual Device (AVD) の作成

### 1. AVD Managerを開く
- Android Studio → Tools → AVD Manager

### 2. 新しいAVDを作成
- "Create Virtual Device" をクリック
- Phone → Pixel 6 を選択
- System Image → API Level 33 (Android 13) を選択
- AVD Name: "SynergyLink_Test"
- Finish をクリック

### 3. エミュレーターの起動
- 作成したAVDの横にある ▶️ ボタンをクリック
- エミュレーターが完全に起動するまで待機（2-3分）

## ステップ4: React Nativeアプリの起動

### 1. Metro Bundlerの起動
新しいターミナルウィンドウで：
```bash
cd SynergyLink
npx react-native start
```

### 2. Androidアプリのビルドと起動
別のターミナルウィンドウで：
```bash
cd SynergyLink
npx react-native run-android
```

## ステップ5: エンドツーエンドテストの実行

### テストシナリオ1: ユーザー登録フロー
1. **新規登録**
   - "新規登録" ボタンをタップ
   - メールアドレス: test1@example.com
   - パスワード: password123
   - 登録ボタンをタップ

2. **名刺アップロード**
   - 名刺アップロード画面で "写真を選択" をタップ
   - テスト用画像を選択
   - "アップロード" ボタンをタップ

3. **審査待ち状態の確認**
   - "審査中です" 画面が表示されることを確認

### テストシナリオ2: プロフィール作成（手動承認後）
1. **Firebase Consoleでの手動承認**
   - 注意: 実際のFirebase設定が必要
   - ユーザーのstatusを "approved" に変更

2. **プロフィール編集**
   - 再ログイン後、プロフィール編集画面に遷移することを確認
   - 必須項目を入力：
     - 氏名: テスト太郎
     - 会社名: テスト株式会社
     - 役職: 部長
     - 自己紹介文: テスト用プロフィールです
   - "保存" ボタンをタップ

3. **メイン画面への遷移**
   - Discoverタブが表示されることを確認

### テストシナリオ3: マッチング機能
1. **2人目のユーザー作成**
   - 上記手順を繰り返してユーザーBを作成
   - メールアドレス: test2@example.com

2. **スワイプ機能のテスト**
   - ユーザーAでログイン
   - DiscoverタブでユーザーBのカードを右スワイプ（Like）
   - ユーザーBでログイン
   - ユーザーAのカードを右スワイプ（Like）

3. **マッチ成立の確認**
   - "IT'S A MATCH!" モーダルが表示されることを確認
   - "チャットを開始" ボタンをタップ

### テストシナリオ4: メッセージ機能
1. **チャット画面の確認**
   - チャット一覧にマッチしたユーザーが表示されることを確認
   - チャット画面をタップして開く

2. **メッセージ送信**
   - "こんにちは！" と入力して送信
   - メッセージが表示されることを確認

3. **リアルタイム更新の確認**
   - 別のデバイス/ウィンドウで相手ユーザーでログイン
   - メッセージがリアルタイムで表示されることを確認

### テストシナリオ5: コミュニティ機能
1. **コミュニティ作成**
   - コミュニティタブをタップ
   - "+" ボタンで新規コミュニティ作成
   - タイトル: "AI活用研究会"
   - 説明: "AI技術の活用について議論するコミュニティです"
   - "提案する" ボタンをタップ

2. **コミュニティサポート**
   - 別のユーザーでログイン
   - "提案中" タブから作成したコミュニティを見つける
   - "応援する" ボタンをタップ
   - サポーター数が更新されることを確認

## ステップ6: 動作確認チェックリスト

### UI/UX確認項目
- [ ] アプリが正常に起動する
- [ ] 全ての画面が適切に表示される
- [ ] ナビゲーション（タブ切り替え）が動作する
- [ ] ダークモード対応が機能する
- [ ] ローディング状態が適切に表示される

### 機能確認項目
- [ ] ユーザー登録・ログイン機能
- [ ] 名刺アップロード機能
- [ ] プロフィール編集・保存機能
- [ ] スワイプ（Like/Pass）機能
- [ ] マッチング成立時のモーダル表示
- [ ] チャット機能（送信・受信）
- [ ] コミュニティ作成・参加機能

### エラーハンドリング確認項目
- [ ] ネットワークエラー時の適切な表示
- [ ] バリデーションエラーの表示
- [ ] 認証エラー時の適切な処理

## トラブルシューティング

### よくある問題と解決方法

1. **エミュレーターが起動しない**
   - Android Studio → Tools → AVD Manager → Wipe Data
   - エミュレーターを再作成

2. **Metro Bundlerに接続できない**
   - エミュレーターで Settings → Network & Internet → Wi-Fi
   - 10.0.2.2:8081 への接続を確認

3. **アプリがクラッシュする**
   - `npx react-native log-android` でログを確認
   - エラーメッセージを確認して対処

4. **Firebase接続エラー**
   - google-services.json が正しく配置されているか確認
   - Firebase プロジェクト設定を確認

## 制限事項

### 現在の設定での制限
- プッシュ通知: 実際のFirebase設定が必要
- 画像アップロード: Firebase Storage設定が必要
- リアルタイム機能: Firestore設定が必要

### テスト可能な機能
- UI/UXの全体的な動作
- ナビゲーション機能
- ローカルデータ管理
- 画面遷移ロジック
- フォームバリデーション

## 完了報告

テスト完了後、以下の情報を記録してください：

1. **成功したテストケース**
   - 動作確認できた機能一覧

2. **発見された問題**
   - エラーメッセージ
   - 再現手順
   - スクリーンショット

3. **改善提案**
   - UI/UXの改善点
   - 機能追加の提案

## 次のステップ

1. **本番環境準備**
   - 実際のFirebaseプロジェクト設定
   - APNs証明書の設定
   - Google Play Console設定

2. **追加テスト**
   - 実機でのテスト
   - パフォーマンステスト
   - セキュリティテスト

---

このガイドに従って、SynergyLinkアプリの包括的なテストを実行してください。問題が発生した場合は、トラブルシューティングセクションを参照するか、開発チームにお問い合わせください。
